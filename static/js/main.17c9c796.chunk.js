(this["webpackJsonpdroplist-select"]=this["webpackJsonpdroplist-select"]||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){},14:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),i=s(6),a=s.n(i),l=s(4),o=s(2),r=s(3);var u=s(0),d=function(e){var t=e.className,s=e.fill;return Object(u.jsx)("svg",{viewBox:"0 0 14 14",className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"M13.4168 7.91668H7.91683V13.4167H6.0835V7.91668H0.583496V6.08334H6.0835V0.583344H7.91683V6.08334H13.4168V7.91668Z",className:s})})},j=(s(12),Object(c.memo)((function(e){var t=e.className,s=e.withPersonal,n=e.inputClass,i=e.inputTitle,a=e.labelClass,j=e.upSelectClass,b=e.selectId,f=e.selectClass,_=e.required,m=e.values,O=e.readOnly,p=e.placeholder,x=e.defaultState,h=e.setValues,v=e.name,y=e.inputRef,k=e.array,w=Object(c.useState)(""),N=Object(r.a)(w,2),g=N[0],C=N[1],D=Object(c.useState)(!1),S=Object(r.a)(D,2),V=S[0],E=S[1],I=Object(c.useState)(!1),L=Object(r.a)(I,2),H=L[0],T=L[1],A=Object(c.useState)(k),q=Object(r.a)(A,2),B=q[0],K=q[1],R=Object(c.useState)({text:"",key:""}),F=Object(r.a)(R,2),J=F[0],M=F[1],P=Object(c.useState)(!0),U=Object(r.a)(P,2),G=U[0],Z=U[1],z=Object(c.useState)(!1),Q=Object(r.a)(z,2),W=Q[0],X=Q[1],Y=Object(c.useState)(!1),$=Object(r.a)(Y,2),ee=$[0],te=$[1],se=Object(c.useRef)(null);function ce(e){e||(h((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},v,""))})),M({key:"",text:""}))}var ne=Object(c.useCallback)((function(e){["ArrowDown","ArrowUp"].indexOf(e.key)>-1&&e.preventDefault()}),[]);function ie(e,t,s){if(window.addEventListener("keydown",ne),"ArrowDown"===e.key){var c=e.target.nextSibling;if(c&&"DIV"===c.nodeName)c.focus();else{var n=e.target.closest("#ul").firstChild;n&&"DIV"===n.nodeName&&n.focus()}}else if("ArrowUp"===e.key){var i=e.target.previousSibling;if(i&&"DIV"===i.nodeName)i.focus();else{var a=e.target.closest("#ul").lastChild;console.log(a),a&&"DIV"===a.nodeName?a.focus():a.previousSibling&&"DIV"===a.previousSibling.nodeName&&a.previousSibling.focus()}}else"Enter"===e.key&&ae(t,s);setTimeout((function(){window.removeEventListener("keydown",ne)}),1e3)}function ae(e,t){var s;k.some((function(t){return t.text===e&&(s=t.key,!0)})),s?le(s,e,t):le("personal",e)}function le(e,t,s){"personal"===e?h((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},v,t))})):(h((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},v,e))})),C(t)),M({key:e,text:t}),re()}function oe(){V?H||re():(document.addEventListener("click",ue),E(!0))}function re(){document.removeEventListener("click",ue),E(!1)}var ue=Object(c.useCallback)((function(e){e.target.closest("#no-close")||re()}),[]);return Object(c.useEffect)((function(){if("personal"!==J.key){var e,t="";e=k.some((function(e){return e.text&&e.text===J.text&&(t=e.text),e.text===J.text})),C(e?t:"")}}),[k,J]),Object(c.useEffect)((function(){if(m[v]&&!g&&k.length>0){var e="";k.some((function(t,s){return!(t.key!==m[v]||!t.text)&&(s,e=t.text,!0)})),e?(C(e),M({key:m[v],text:e})):(C(m[v]),M({key:"personal",text:m[v]}))}}),[k]),Object(c.useEffect)((function(){if(g){var e;if(e=k,J.key)!e.some((function(e){return!!e&&J.key===e.key}))&&e.unshift(J);K(J.key!==m[v]||J.text!==g?e.filter((function(e){return e.text?e.text.toLowerCase().indexOf(g.toLowerCase())>=0:void 0})):e)}else K(k)}),[k,g,J]),Object(c.useEffect)((function(){if(x&&G&&!m[v]){var e="";k.some((function(t,s){return!(t.text!==x||!t.key)&&(s,e=t.key,Z(!1),!0)})),e&&(C(x),h((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},v,e))})),M({key:e,text:x}))}else Z(!1)}),[k,x,G]),Object(c.useEffect)((function(){se&&se.current&&se.current.previousSibling&&B&&(se.current.previousSibling.getBoundingClientRect().bottom+(B.length>4?260:40*B.length)>window.innerHeight?X(!0):X(!1))}),[V,B,se.current]),Object(c.useEffect)((function(){var e;B.some((function(t){return t.text===g&&(e=t.text,!0)})),te(!!e)}),[g]),Object(u.jsx)("div",{id:"no-close",className:"droplist".concat(t?" ".concat(t):""),children:Object(u.jsxs)("div",{id:b,className:"droplist__select".concat(j?" ".concat(j):""),children:[Object(u.jsxs)("label",{className:"".concat(a||"droplist__label".concat(H?" droplist__label_focused":"")),children:[Object(u.jsx)("input",{required:_,className:"droplist__input".concat(n?" ".concat(n):"").concat(O?" droplist__input_readonly":""),placeholder:p,name:v,readOnly:O,onChange:function(e){ce(e.target.value),C(e.target.value),V||oe()},ref:y,value:g,onClick:oe,onFocus:function(){T(!0),oe()},onBlur:function(e){T(!1),s||e.relatedTarget&&e.relatedTarget.closest("#".concat(b))?!s||e.relatedTarget&&e.relatedTarget.closest("#".concat(b))||ae(g||m[v]):m[v]?J.text!==g?(C(""),ce(""),re()):re():(C(""),ce(""),re())},onKeyDown:function(e){if(window.addEventListener("keydown",ne),"ArrowDown"===e.key){var t=e.target.closest("#".concat(b)).lastChild.firstChild;t&&t.focus()}else if("Enter"===e.key){var s=e.target.closest("#".concat(b)).lastChild.firstChild;e.preventDefault(),s&&s.click()}setTimeout((function(){window.removeEventListener("keydown",ne)}),1e3)},autoComplete:"new-password"}),i&&i]}),V&&Object(u.jsxs)("div",{ref:se,id:"ul",className:"droplist__items".concat(V?" droplist__items_open":"").concat(f?" ".concat(f):"").concat(g&&s?" droplist__items_with-pesronal":"").concat(W?" droplist__items_up":" droplist__items_bottom"),children:[B&&B.map((function(e,t){return Object(u.jsx)("div",{className:"droplist__item",tabIndex:t+1,onClick:function(){le(e.key?e.key:"",e.text?e.text:"")},onKeyDown:function(t){ie(t,e.text?e.text:"",e)},children:Object(u.jsx)("span",{className:"droplist__text",children:e.text})},t)})),g&&!ee&&s&&Object(u.jsxs)("div",{className:"droplist__item",tabIndex:B&&B.length+1,onClick:function(){ae(g)},onKeyDown:function(e){ie(e,g)},children:[" ",Object(u.jsx)(d,{className:"droplist__item-plus",fill:"droplist__item-plus-fill"})," ","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"," ",Object(u.jsx)("span",{className:"droplist__text droplist__text_blue",children:g})]})]})]})})}))),b=(s(13),function(){var e=function(){var e=Object(c.useState)({}),t=Object(r.a)(e,2),s=t[0],n=t[1];return{values:s,handleChange:function(e,t){var s=e.target,c=t||s.value,i=s.name;n((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},i,c))}))},setValues:n}}(),t=e.values,s=e.setValues;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("h1",{className:"header__title",children:"Dropdown-select"})}),Object(u.jsxs)("main",{className:"main root__main",children:[Object(u.jsxs)("section",{className:"section main__section",children:[Object(u.jsx)("h2",{className:"section__title",children:"\u0414\u0440\u043e\u043f\u0434\u0430\u0443\u043d \u0441 \u043f\u043e\u0438\u0441\u043a\u043e\u043c"}),Object(u.jsxs)("div",{className:"section__container",children:[Object(u.jsx)(j,{className:"section__droplist",inputClass:"input input_with-arrow",selectId:"firstDroplist",values:t,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",setValues:s,name:"firstDroplist",array:[{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 2",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 2"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 3",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 3"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 4",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 4"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 5",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 5"}]}),Object(u.jsxs)("div",{className:"section__subtitle-container",children:[Object(u.jsx)("h3",{className:"section__subtitle",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "}),Object(u.jsx)("p",{className:"section__value",children:t.firstDroplist})]})]})]}),Object(u.jsxs)("section",{className:"section main__section",children:[Object(u.jsx)("h2",{className:"section__title",children:"\u0414\u0440\u043e\u043f\u0434\u0430\u0443\u043d \u0431\u0435\u0437 \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(u.jsxs)("div",{className:"section__container",children:[Object(u.jsx)(j,{className:"section__droplist",inputClass:"input input_with-arrow",selectId:"secondDroplist",values:t,readOnly:!0,placeholder:"\u041f\u043e\u043b",setValues:s,name:"secondDroplist",array:[{key:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",text:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"},{key:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",text:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"}]}),Object(u.jsxs)("div",{className:"section__subtitle-container",children:[Object(u.jsx)("h3",{className:"section__subtitle",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "}),Object(u.jsx)("p",{className:"section__value",children:t.secondDroplist})]})]})]}),Object(u.jsxs)("section",{className:"section main__section",children:[Object(u.jsx)("h2",{className:"section__title",children:"\u0414\u0440\u043e\u043f\u0434\u0430\u0443\u043d \u0441 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430"}),Object(u.jsxs)("div",{className:"section__container",children:[Object(u.jsx)(j,{className:"section__droplist",inputClass:"input input_with-arrow",selectId:"thirdDroplist",values:t,placeholder:"\u041b\u044e\u0431\u0438\u043c\u0430\u044f \u0435\u0434\u0430",withPersonal:!0,setValues:s,name:"thirdDroplist",array:[{key:"\u041f\u0438\u0446\u0446\u0430",text:"\u041f\u0438\u0446\u0446\u0430"},{key:"\u0421\u0443\u0448\u0438",text:"\u0421\u0443\u0448\u0438"}]}),Object(u.jsxs)("div",{className:"section__subtitle-container",children:[Object(u.jsx)("h3",{className:"section__subtitle",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "}),Object(u.jsx)("p",{className:"section__value",children:t.thirdDroplist})]})]})]})]}),Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("div",{className:"footer__container",children:Object(u.jsx)("p",{className:"footer__text",children:"\xa9 Gendrarium"})})})]})});s(14);a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(b,{})}),document.querySelector(".root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.17c9c796.chunk.js.map