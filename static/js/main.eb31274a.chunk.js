(this["webpackJsonpdroplist-select"]=this["webpackJsonpdroplist-select"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},21:function(e,t,s){},30:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),i=s(11),a=s.n(i),o=s(13),l=s(3),r=s(2),u=s(5);var d=s(1),j=function(e){var t=e.className,s=e.fill;return Object(d.jsx)("svg",{viewBox:"0 0 14 14",className:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"M13.4168 7.91668H7.91683V13.4167H6.0835V7.91668H0.583496V6.08334H6.0835V0.583344H7.91683V6.08334H13.4168V7.91668Z",className:s})})},b=(s(19),Object(c.memo)((function(e){var t=e.className,s=e.withPersonal,n=e.inputClass,i=e.inputTitle,a=e.labelClass,o=e.upSelectClass,b=e.selectId,f=e.selectClass,O=e.required,x=e.forPhone,_=e.values,m=e.readOnly,p=e.placeholder,h=e.defaultState,v=e.setValues,y=e.secondName,k=e.name,N=e.inputRef,w=e.array,g=e.currentChoise,C=e.setCurrentChoise,D=Object(c.useState)(""),S=Object(u.a)(D,2),V=S[0],E=S[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),H=L[0],T=L[1],A=Object(c.useState)(!1),q=Object(u.a)(A,2),B=q[0],K=q[1],P=Object(c.useState)(w),R=Object(u.a)(P,2),F=R[0],J=R[1],M=Object(c.useState)({text:"",key:""}),U=Object(u.a)(M,2),G=U[0],Z=U[1],z=Object(c.useState)(!0),Q=Object(u.a)(z,2),W=Q[0],X=Q[1],Y=Object(c.useState)(!1),$=Object(u.a)(Y,2),ee=$[0],te=$[1],se=Object(c.useState)(!1),ce=Object(u.a)(se,2),ne=ce[0],ie=ce[1],ae=Object(c.useRef)(null);function oe(e){e||(v((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(l.a)({},k,""))})),Z({key:"",text:""}),C&&C({}))}var le=Object(c.useCallback)((function(e){["ArrowDown","ArrowUp"].indexOf(e.key)>-1&&e.preventDefault()}),[]);function re(e,t,s){if(window.addEventListener("keydown",le),"ArrowDown"===e.key){var c=e.target.nextSibling;if(c&&"DIV"===c.nodeName)c.focus();else{var n=e.target.closest("#ul").firstChild;n&&"DIV"===n.nodeName&&n.focus()}}else if("ArrowUp"===e.key){var i=e.target.previousSibling;if(i&&"DIV"===i.nodeName)i.focus();else{var a=e.target.closest("#ul").lastChild;console.log(a),a&&"DIV"===a.nodeName?a.focus():a.previousSibling&&"DIV"===a.previousSibling.nodeName&&a.previousSibling.focus()}}else"Enter"===e.key&&ue(t,s);setTimeout((function(){window.removeEventListener("keydown",le)}),1e3)}function ue(e,t){var s;w.some((function(t){return t.text===e&&(s=t.key,!0)})),s?de(s,e,t):de("personal",e)}function de(e,t,s){"personal"===e?v(y?function(e){var s;return Object(r.a)(Object(r.a)({},e),{},(s={},Object(l.a)(s,k,t),Object(l.a)(s,y,""),s))}:function(e){return Object(r.a)(Object(r.a)({},e),{},Object(l.a)({},k,t))}):(y&&e!==G.key?v((function(t){var s;return Object(r.a)(Object(r.a)({},t),{},(s={},Object(l.a)(s,k,e),Object(l.a)(s,y,""),s))})):v((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(l.a)({},k,e))})),E(t)),Z({key:e,text:t}),C&&s&&C(s),be()}function je(){H?B||be():(document.addEventListener("click",fe),T(!0))}function be(){document.removeEventListener("click",fe),T(!1)}var fe=Object(c.useCallback)((function(e){e.target.closest("#no-close")||be()}),[]);return Object(c.useEffect)((function(){if("personal"!==G.key){var e,t="";e=w.some((function(e){return e.text&&e.text===G.text&&(t=e.text),e.text===G.text})),E(e?t:"")}}),[w,G]),Object(c.useEffect)((function(){if(_[k]&&!V&&w.length>0){var e="",t=void 0;x&&g?(w.some((function(e,s){return e.text===g.text&&(t=s,!0)})),E(g.text),Z({key:g.key,text:g.text}),C&&null!=t&&C(w[t])):(w.some((function(s,c){return!(s.key!==_[k]||!s.text)&&(t=c,e=s.text,!0)})),e?(E(e),Z({key:_[k],text:e}),C&&null!=t&&C(w[t])):(E(_[k]),Z({key:"personal",text:_[k]})))}}),[w]),Object(c.useEffect)((function(){if(V){var e;if(e=w,G.key)!e.some((function(e){return!!e&&G.key===e.key}))&&e.unshift(G);J(G.key!==_[k]||G.text!==V?e.filter((function(e){return e.text?e.text.toLowerCase().indexOf(V.toLowerCase())>=0:void 0})):e)}else J(w)}),[w,V,G]),Object(c.useEffect)((function(){if(h&&W&&!_[k]){var e="",t=void 0;w.some((function(s,c){return!(s.text!==h||!s.key)&&(t=c,e=s.key,X(!1),!0)})),e&&(E(h),v((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(l.a)({},k,e))})),Z({key:e,text:h}),C&&null!=t&&C(w[t]))}else X(!1)}),[w,h,W]),Object(c.useEffect)((function(){ae&&ae.current&&ae.current.previousSibling&&F&&(ae.current.previousSibling.getBoundingClientRect().bottom+(F.length>4?260:40*F.length)>window.innerHeight?te(!0):te(!1))}),[H,F,ae.current]),Object(c.useEffect)((function(){var e;F.some((function(t){return t.text===V&&(e=t.text,!0)})),ie(!!e)}),[V]),Object(c.useEffect)((function(){x&&G.key&&V!==G.text&&Z({key:"",text:""})}),[V]),Object(d.jsx)("div",{id:"no-close",className:"droplist".concat(t?" ".concat(t):""),children:Object(d.jsxs)("div",{id:b,className:"droplist__select".concat(o?" ".concat(o):""),children:[Object(d.jsxs)("label",{className:"".concat(a||"droplist__label".concat(B?" droplist__label_focused":"")),children:[Object(d.jsx)("input",{required:O,className:"droplist__input".concat(n?" ".concat(n):"").concat(m?" droplist__input_readonly":""),placeholder:p,name:k,readOnly:m,onChange:function(e){oe(e.target.value),E(e.target.value),H||je()},ref:N,value:x&&G.key?V.slice(0,V.indexOf(" ")):V,onClick:je,onFocus:function(){K(!0),je()},onBlur:function(e){K(!1),s||e.relatedTarget&&e.relatedTarget.closest("#".concat(b))?!s||e.relatedTarget&&e.relatedTarget.closest("#".concat(b))||ue(V||_[k]):_[k]?G.text!==V?(E(""),oe(""),be()):be():(E(""),oe(""),be())},onKeyDown:function(e){if(window.addEventListener("keydown",le),"ArrowDown"===e.key){var t=e.target.closest("#".concat(b)).lastChild.firstChild;t&&t.focus()}else if("Enter"===e.key){var s=e.target.closest("#".concat(b)).lastChild.firstChild;e.preventDefault(),s&&s.click()}setTimeout((function(){window.removeEventListener("keydown",le)}),1e3)},autoComplete:"new-password"}),i&&i]}),H&&Object(d.jsxs)("div",{ref:ae,id:"ul",className:"droplist__items".concat(H?" droplist__items_open":"").concat(f?" ".concat(f):"").concat(V&&s?" droplist__items_with-pesronal":"").concat(ee?" droplist__items_up":" droplist__items_bottom"),children:[F&&F.map((function(e,t){return Object(d.jsx)("div",{className:"droplist__item",tabIndex:t+1,onClick:function(){de(e.key?e.key:"",e.text?e.text:"",e)},onKeyDown:function(t){re(t,e.text?e.text:"",e)},children:Object(d.jsx)("span",{className:"droplist__text",children:e.text})},t)})),V&&!ne&&s&&Object(d.jsxs)("div",{className:"droplist__item",tabIndex:F&&F.length+1,onClick:function(){ue(V)},onKeyDown:function(e){re(e,V)},children:[" ",Object(d.jsx)(j,{className:"droplist__item-plus",fill:"droplist__item-plus-fill"})," ","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"," ",Object(d.jsx)("span",{className:"droplist__text droplist__text_blue",children:V})]})]})]})})}))),f=(s(20),function(){var e=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),s=t[0],n=t[1];return{values:s,handleChange:function(e,t){var s=e.target,c=t||s.value,i=s.name;n((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(l.a)({},i,c))}))},setValues:n}}(),t=e.values,s=e.setValues;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("header",{className:"header",children:Object(d.jsx)("h1",{className:"header__title",children:"Dropdown-select"})}),Object(d.jsxs)("main",{className:"main root__main",children:[Object(d.jsxs)("section",{className:"section main__section",children:[Object(d.jsx)("h2",{className:"section__title",children:"\u0414\u0440\u043e\u043f\u0434\u0430\u0443\u043d \u0441 \u043f\u043e\u0438\u0441\u043a\u043e\u043c"}),Object(d.jsxs)("div",{className:"section__container",children:[Object(d.jsx)(b,{className:"section__droplist",inputClass:"input input_with-arrow",selectId:"firstDroplist",values:t,placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",setValues:s,name:"firstDroplist",array:[{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 1"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 2",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 2"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 3",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 3"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 4",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 4"},{key:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 5",text:"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 5"}]}),Object(d.jsxs)("div",{className:"section__subtitle-container",children:[Object(d.jsx)("h3",{className:"section__subtitle",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "}),Object(d.jsx)("p",{className:"section__value",children:t.firstDroplist})]})]})]}),Object(d.jsxs)("section",{className:"section main__section",children:[Object(d.jsx)("h2",{className:"section__title",children:"\u0414\u0440\u043e\u043f\u0434\u0430\u0443\u043d \u0431\u0435\u0437 \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(d.jsxs)("div",{className:"section__container",children:[Object(d.jsx)(b,{className:"section__droplist",inputClass:"input input_with-arrow",selectId:"secondDroplist",values:t,readOnly:!0,placeholder:"\u041f\u043e\u043b",setValues:s,name:"secondDroplist",array:[{key:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",text:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"},{key:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",text:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"}]}),Object(d.jsxs)("div",{className:"section__subtitle-container",children:[Object(d.jsx)("h3",{className:"section__subtitle",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "}),Object(d.jsx)("p",{className:"section__value",children:t.secondDroplist})]})]})]}),Object(d.jsxs)("section",{className:"section main__section",children:[Object(d.jsx)("h2",{className:"section__title",children:"\u0414\u0440\u043e\u043f\u0434\u0430\u0443\u043d \u0441 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430"}),Object(d.jsxs)("div",{className:"section__container",children:[Object(d.jsx)(b,{className:"section__droplist",inputClass:"input input_with-arrow",selectId:"thirdDroplist",values:t,placeholder:"\u041b\u044e\u0431\u0438\u043c\u0430\u044f \u0435\u0434\u0430",withPersonal:!0,setValues:s,name:"thirdDroplist",array:[{key:"\u041f\u0438\u0446\u0446\u0430",text:"\u041f\u0438\u0446\u0446\u0430"},{key:"\u0421\u0443\u0448\u0438",text:"\u0421\u0443\u0448\u0438"}]}),Object(d.jsxs)("div",{className:"section__subtitle-container",children:[Object(d.jsx)("h3",{className:"section__subtitle",children:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: "}),Object(d.jsx)("p",{className:"section__value",children:t.thirdDroplist})]})]})]})]}),Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"footer__container",children:Object(d.jsx)("p",{className:"footer__text",children:"\xa9 Gendrarium"})})})]})});s(21);a.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(f,{})})}),document.querySelector(".root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.eb31274a.chunk.js.map